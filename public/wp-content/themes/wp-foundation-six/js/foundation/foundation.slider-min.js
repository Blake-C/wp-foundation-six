!function($,t){"use strict";function i(e,s){this.$element=e,this.options=$.extend({},i.defaults,this.$element.data(),s),this._init(),t.registerPlugin(this,"Slider"),t.Keyboard.register("Slider",{ltr:{ARROW_RIGHT:"increase",ARROW_UP:"increase",ARROW_DOWN:"decrease",ARROW_LEFT:"decrease",SHIFT_ARROW_RIGHT:"increase_fast",SHIFT_ARROW_UP:"increase_fast",SHIFT_ARROW_DOWN:"decrease_fast",SHIFT_ARROW_LEFT:"decrease_fast"},rtl:{ARROW_LEFT:"increase",ARROW_RIGHT:"decrease",SHIFT_ARROW_LEFT:"increase_fast",SHIFT_ARROW_RIGHT:"decrease_fast"}})}function e(t,i){return t/i}function s(t,i,e,s){return Math.abs(t.position()[i]+t[s]()/2-e)}i.defaults={start:0,end:100,step:1,initialStart:0,initialEnd:100,binding:!1,clickSelect:!0,vertical:!1,draggable:!0,disabled:!1,doubleSided:!1,decimal:2,moveTime:200,disabledClass:"disabled"},i.prototype._init=function(){this.inputs=this.$element.find("input"),this.handles=this.$element.find("[data-slider-handle]"),this.$handle=this.handles.eq(0),this.$input=this.inputs.length?this.inputs.eq(0):$("#"+this.$handle.attr("aria-controls")),this.$fill=this.$element.find("[data-slider-fill]").css(this.options.vertical?"height":"width",0);var t=!1,i=this;(this.options.disabled||this.$element.hasClass(this.options.disabledClass))&&(this.options.disabled=!0,this.$element.addClass(this.options.disabledClass)),this.inputs.length||(this.inputs=$().add(this.$input),this.options.binding=!0),this._setInitAttr(0),this._events(this.$handle),this.handles[1]&&(this.options.doubleSided=!0,this.$handle2=this.handles.eq(1),this.$input2=this.inputs.length>1?this.inputs.eq(1):$("#"+this.$handle2.attr("aria-controls")),this.inputs[1]||(this.inputs=this.inputs.add(this.$input2)),t=!0,this._setHandlePos(this.$handle,this.options.initialStart,!0,function(){i._setHandlePos(i.$handle2,i.options.initialEnd)}),this._setInitAttr(1),this._events(this.$handle2)),t||this._setHandlePos(this.$handle,this.options.initialStart,!0)},i.prototype._setHandlePos=function(i,s,n,a){s=parseFloat(s),s<this.options.start?s=this.options.start:s>this.options.end&&(s=this.options.end);var o=this.options.doubleSided,l=a||null;if(o)if(0===this.handles.index(i)){var d=parseFloat(this.$handle2.attr("aria-valuenow"));s=s>=d?d-this.options.step:s}else{var h=parseFloat(this.$handle.attr("aria-valuenow"));s=h>=s?h+this.options.step:s}this.options.vertical&&!n&&(s=this.options.end-s);var r=this,p=this.options.vertical,f=p?"height":"width",u=p?"top":"left",c=i[0].getBoundingClientRect()[f]/2,g=this.$element[0].getBoundingClientRect()[f],v=e(s,this.options.end).toFixed(2),m=(g-c)*v,_=(100*e(m,g)).toFixed(this.options.decimal),s=s>0?parseFloat(s.toFixed(this.options.decimal)):0,R,b,S=null,F={};if(this._setValues(i,s),this.options.doubleSided){var z=0===this.handles.index(i),T,y=this.handles.index(i);if(z)F[u]=(v>0?100*v:0)+"%",T=(100*(e(this.$handle2.position()[u]+c,g)-parseFloat(v))).toFixed(this.options.decimal)+"%",F["min-"+f]=T,a&&"function"==typeof a&&a();else{var C=parseFloat(this.$handle[0].style.left);s=(100>s?s:100)-(isNaN(C)?this.options.end-s:C),F["min-"+f]=s+"%"}}this.$element.one("finished.zf.animate",function(){r.animComplete=!0,r.$element.trigger("moved.zf.slider",[i])});var H=r.$element.data("dragging")?1e3/60:r.options.moveTime;t.Move(H,i,function(){i.css(u,_+"%"),r.options.doubleSided?r.$fill.css(F):r.$fill.css(f,100*v+"%")})},i.prototype._setInitAttr=function(i){var e=this.inputs.eq(i).attr("id")||t.GetYoDigits(6,"slider");this.inputs.eq(i).attr({id:e,max:this.options.end,min:this.options.start}),this.handles.eq(i).attr({role:"slider","aria-controls":e,"aria-valuemax":this.options.end,"aria-valuemin":this.options.start,"aria-valuenow":0===i?this.options.initialStart:this.options.initialEnd,"aria-orientation":this.options.vertical?"vertical":"horizontal",tabindex:0})},i.prototype._setValues=function(t,i){var e=this.options.doubleSided?this.handles.index(t):0;this.inputs.eq(e).val(i),t.attr("aria-valuenow",i)},i.prototype._handleEvent=function(t,i,n){var a,o;if(n)a=n,o=!0;else{t.preventDefault();var l=this,d=this.options.vertical,h=d?"height":"width",r=d?"top":"left",p=d?t.pageY:t.pageX,f=this.$handle[0].getBoundingClientRect()[h]/2,u=this.$element[0].getBoundingClientRect()[h],c=this.$element.offset()[r]-p,g=c>0?-f:-u>c-f?u:Math.abs(c),v=e(g,u);if(a=(this.options.end-this.options.start)*v,o=!1,!i){var m=s(this.$handle,r,g,h),_=s(this.$handle2,r,g,h);i=_>=m?this.$handle:this.$handle2}}this._setHandlePos(i,a,o)},i.prototype._events=function(i){if(this.options.disabled)return!1;var e=this,s,n;if(this.inputs.off("change.zf.slider").on("change.zf.slider",function(t){var i=e.inputs.index($(this));e._handleEvent(t,e.handles.eq(i),$(this).val())}),this.options.clickSelect&&this.$element.off("click.zf.slider").on("click.zf.slider",function(t){return e.$element.data("dragging")?!1:(e.animComplete=!1,void(e.options.doubleSided?e._handleEvent(t):e._handleEvent(t,e.$handle)))}),this.options.draggable){this.handles.addTouch();var a=$("body");i.off("mousedown.zf.slider").on("mousedown.zf.slider",function(t){i.addClass("is-dragging"),e.$fill.addClass("is-dragging"),e.$element.data("dragging",!0),e.animComplete=!1,s=$(t.currentTarget),a.on("mousemove.zf.slider",function(t){t.preventDefault(),e._handleEvent(t,s)}).on("mouseup.zf.slider",function(t){e.animComplete=!0,e._handleEvent(t,s),i.removeClass("is-dragging"),e.$fill.removeClass("is-dragging"),e.$element.data("dragging",!1),a.off("mousemove.zf.slider mouseup.zf.slider")})})}i.off("keydown.zf.slider").on("keydown.zf.slider",function(i){var s=e.options.doubleSided?e.handles.index($(this)):0,n=parseFloat(e.inputs.eq(s).val()),a,o=$(this);t.Keyboard.handleKey(i,"Slider",{decrease:function(){a=n-e.options.step},increase:function(){a=n+e.options.step},decrease_fast:function(){a=n-10*e.options.step},increase_fast:function(){a=n+10*e.options.step},handled:function(){i.preventDefault(),e._setHandlePos(o,a,!0)}})})},i.prototype.destroy=function(){this.handles.off(".zf.slider"),this.inputs.off(".zf.slider"),this.$element.off(".zf.slider"),t.unregisterPlugin(this)},t.plugin(i,"Slider")}(jQuery,window.Foundation);