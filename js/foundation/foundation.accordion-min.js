!function($,t){"use strict";function e(i,a){this.$element=i,this.options=$.extend({},e.defaults,this.$element.data(),a),this._init(),t.registerPlugin(this),t.Keyboard.register("Accordion",{ENTER:"toggle",SPACE:"toggle",ARROW_DOWN:"next",ARROW_UP:"previous"})}e.defaults={slideSpeed:250,multiExpand:!1,allowAllClosed:!1},e.prototype._init=function(){this.$element.attr("role","tablist"),this.$tabs=this.$element.children("li"),this.$tabs.each(function(e,i){var a=$(i),n=a.find("[data-tab-content]"),o=n[0].id||t.GetYoDigits(6,"accordion"),s=i.id||o+"-label";a.find("a:first").attr({"aria-controls":o,role:"tab",id:s,"aria-expanded":!1,"aria-selected":!1}),n.attr({role:"tabpanel","aria-labelledby":s,"aria-hidden":!0,id:o})});var e=this.$element.find(".is-active").children("[data-tab-content]");e.length&&this.down(e,!0),this._events()},e.prototype._events=function(){var e=this;this.$tabs.each(function(){var i=$(this),a=i.children("[data-tab-content]");a.length&&i.children("a").off("click.zf.accordion keydown.zf.accordion").on("click.zf.accordion",function(t){t.preventDefault(),i.hasClass("is-active")?(e.options.allowAllClosed||i.siblings().hasClass("is-active"))&&e.up(a):e.down(a)}).on("keydown.zf.accordion",function(n){t.Keyboard.handleKey(n,e,{toggle:function(){e.toggle(a)},next:function(){i.next().find("a").focus().trigger("click.zf.accordion")},previous:function(){i.prev().find("a").focus().trigger("click.zf.accordion")},handled:function(){n.preventDefault(),n.stopPropagation()}})})})},e.prototype.toggle=function(t){if(t.parent().hasClass("is-active")){if(!this.options.allowAllClosed&&!t.parent().siblings().hasClass("is-active"))return;this.up(t)}else this.down(t)},e.prototype.down=function(e,i){var a=this;if(!this.options.multiExpand&&!i){var n=this.$element.find(".is-active").children("[data-tab-content]");n.length&&this.up(n)}e.attr("aria-hidden",!1).parent("[data-tab-content]").addBack().parent().addClass("is-active"),t.Move(a.options.slideSpeed,e,function(){e.slideDown(a.options.slideSpeed)}),i||t._reflow(this.$element.attr("data-accordion")),$("#"+e.attr("aria-labelledby")).attr({"aria-expanded":!0,"aria-selected":!0}),this.$element.trigger("down.zf.accordion",[e])},e.prototype.up=function(e){var i=e.parent().siblings(),a=this,n=this.options.multiExpand?i.hasClass("is-active"):e.parent().hasClass("is-active");(this.options.allowAllClosed||n)&&(t.Move(this.options.slideSpeed,e,function(){e.slideUp(a.options.slideSpeed)}),e.attr("aria-hidden",!0).parent().removeClass("is-active"),$("#"+e.attr("aria-labelledby")).attr({"aria-expanded":!1,"aria-selected":!1}),this.$element.trigger("up.zf.accordion",[e]))},e.prototype.destroy=function(){this.$element.find("[data-tab-content]").slideUp(0).css("display",""),this.$element.find("a").off(".zf.accordion"),t.unregisterPlugin(this)},t.plugin(e,"Accordion")}(jQuery,window.Foundation);