!function(e,$){"use strict";function t(i,s){this.$element=i,this.options=$.extend({},t.defaults,this.$element.data(),s),this._init(),e.registerPlugin(this,"Equalizer")}t.defaults={equalizeOnStack:!0,equalizeByRow:!1,equalizeOn:""},t.prototype._init=function(){var t=this.$element.attr("data-equalizer")||"",i=this.$element.find('[data-equalizer-watch="'+t+'"]');this.$watched=i.length?i:this.$element.find("[data-equalizer-watch]"),this.$element.attr("data-resize",t||e.GetYoDigits(6,"eq")),this.hasNested=this.$element.find("[data-equalizer]").length>0,this.isNested=this.$element.parentsUntil(document.body,"[data-equalizer]").length>0,this.isOn=!1;var s=this.$element.find("img"),h;this.options.equalizeOn?(h=this._checkMQ(),$(window).on("changed.zf.mediaquery",this._checkMQ.bind(this))):this._events(),(void 0!==h&&h===!1||void 0===h)&&(s.length?e.onImagesLoaded(s,this._reflow.bind(this)):this._reflow())},t.prototype._pauseEvents=function(){this.isOn=!1,this.$element.off(".zf.equalizer resizeme.zf.trigger")},t.prototype._events=function(){var e=this;this._pauseEvents(),this.hasNested?this.$element.on("postequalized.zf.equalizer",function(t){t.target!==e.$element[0]&&e._reflow()}):this.$element.on("resizeme.zf.trigger",this._reflow.bind(this)),this.isOn=!0},t.prototype._checkMQ=function(){var t=!e.MediaQuery.atLeast(this.options.equalizeOn);return t?this.isOn&&(this._pauseEvents(),this.$watched.css("height","auto")):this.isOn||this._events(),t},t.prototype._killswitch=function(){},t.prototype._reflow=function(){return!this.options.equalizeOnStack&&this._isStacked()?(this.$watched.css("height","auto"),!1):void(this.options.equalizeByRow?this.getHeightsByRow(this.applyHeightByRow.bind(this)):this.getHeights(this.applyHeight.bind(this)))},t.prototype._isStacked=function(){return this.$watched[0].offsetTop!==this.$watched[1].offsetTop},t.prototype.getHeights=function(e){for(var t=[],i=0,s=this.$watched.length;s>i;i++)this.$watched[i].style.height="auto",t.push(this.$watched[i].offsetHeight);e(t)},t.prototype.getHeightsByRow=function(e){var t=this.$watched.first().offset().top,i=[],s=0;i[s]=[];for(var h=0,n=this.$watched.length;n>h;h++){this.$watched[h].style.height="auto";var a=$(this.$watched[h]).offset().top;a!=t&&(s++,i[s]=[],t=a),i[s].push([this.$watched[h],this.$watched[h].offsetHeight])}for(var h=0,n=i.length;n>h;h++){var o=$(i[h]).map(function(){return this[1]}).get(),r=Math.max.apply(null,o);i[h].push(r)}e(i)},t.prototype.applyHeight=function(e){var t=Math.max.apply(null,e);this.$element.trigger("preequalized.zf.equalizer"),this.$watched.css("height",t),this.$element.trigger("postequalized.zf.equalizer")},t.prototype.applyHeightByRow=function(e){this.$element.trigger("preequalized.zf.equalizer");for(var t=0,i=e.length;i>t;t++){var s=e[t].length,h=e[t][s-1];if(2>=s)$(e[t][0][0]).css({height:"auto"});else{this.$element.trigger("preequalizedrow.zf.equalizer");for(var n=0,a=s-1;a>n;n++)$(e[t][n][0]).css({height:h});this.$element.trigger("postequalizedrow.zf.equalizer")}}this.$element.trigger("postequalized.zf.equalizer")},t.prototype.destroy=function(){this._pauseEvents(),this.$watched.css("height","auto"),e.unregisterPlugin(this)},e.plugin(t,"Equalizer"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=t),"function"==typeof define&&define(["foundation"],function(){return t})}(Foundation,jQuery);