!function($,t){"use strict";function e(i,s){this.$element=i,this.options=$.extend({},e.defaults,this.$element.data(),s),this._init(),t.registerPlugin(this,"Tabs"),t.Keyboard.register("Tabs",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"previous",ARROW_DOWN:"next",ARROW_LEFT:"previous"})}function i(t){return t.hasClass("is-active")}e.defaults={autoFocus:!1,wrapOnKeys:!0,matchHeight:!1,linkClass:"tabs-title",panelClass:"tabs-panel"},e.prototype._init=function(){var e=this;if(this.$tabTitles=this.$element.find("."+this.options.linkClass),this.$tabContent=$('[data-tabs-content="'+this.$element[0].id+'"]'),this.$tabTitles.each(function(){var t=$(this),i=t.find("a"),s=t.hasClass("is-active"),a=i.attr("href").slice(1),n=a+"-label",o=$(a);t.attr({role:"presentation"}),i.attr({role:"tab","aria-controls":a,"aria-selected":s,id:n}),o.attr({role:"tabpanel","aria-hidden":!s,"aria-labelledby":n}),s&&e.options.autoFocus&&i.focus()}),this.options.matchHeight){var i=this.$tabContent.find("img");i.length?t.onImagesLoaded(i,this._setHeight.bind(this)):this._setHeight()}this._events()},e.prototype._events=function(){this._addKeyHandler(),this._addClickHandler(),this.options.matchHeight&&$(window).on("changed.zf.mediaquery",this._setHeight.bind(this))},e.prototype._addClickHandler=function(){var t=this;this.$element.off("click.zf.tabs").on("click.zf.tabs","."+this.options.linkClass,function(e){e.preventDefault(),e.stopPropagation(),$(this).hasClass("is-active")||t._handleTabChange($(this))})},e.prototype._addKeyHandler=function(){var e=this,i=e.$element.find("li:first-of-type"),s=e.$element.find("li:last-of-type");this.$tabTitles.off("keydown.zf.tabs").on("keydown.zf.tabs",function(i){if(9!==i.which){i.stopPropagation(),i.preventDefault();var s=$(this),a=s.parent("ul").children("li"),n,o;a.each(function(t){return $(this).is(s)?void(e.options.wrapOnKeys?(n=0===t?a.last():a.eq(t-1),o=t===a.length-1?a.first():a.eq(t+1)):(n=a.eq(Math.max(0,t-1)),o=a.eq(Math.min(t+1,a.length-1)))):void 0}),t.Keyboard.handleKey(i,"Tabs",{open:function(){s.find('[role="tab"]').focus(),e._handleTabChange(s)},previous:function(){n.find('[role="tab"]').focus(),e._handleTabChange(n)},next:function(){o.find('[role="tab"]').focus(),e._handleTabChange(o)}})}})},e.prototype._handleTabChange=function(t){var e=t.find('[role="tab"]'),i=e.attr("href"),s=$(i),a=this.$element.find("."+this.options.linkClass+".is-active").removeClass("is-active").find('[role="tab"]').attr({"aria-selected":"false"}).attr("href");$(a).removeClass("is-active").attr({"aria-hidden":"true"}),t.addClass("is-active"),e.attr({"aria-selected":"true"}),s.addClass("is-active").attr({"aria-hidden":"false"}),this.$element.trigger("change.zf.tabs",[t])},e.prototype.selectTab=function(t){var e;e="object"==typeof t?t[0].id:t,e.indexOf("#")<0&&(e="#"+e);var i=this.$tabTitles.find('[href="'+e+'"]').parent("."+this.options.linkClass);this._handleTabChange(i)},e.prototype._setHeight=function(){var t=0;this.$tabContent.find("."+this.options.panelClass).css("height","").each(function(){var e=$(this),i=e.hasClass("is-active");i||e.css({visibility:"hidden",display:"block"});var s=this.getBoundingClientRect().height;i||e.css({visibility:"",display:""}),t=s>t?s:t}).css("height",t+"px")},e.prototype.destroy=function(){this.$element.find("."+this.options.linkClass).off(".zf.tabs").hide().end().find("."+this.options.panelClass).hide(),this.options.matchHeight&&$(window).off("changed.zf.mediaquery"),t.unregisterPlugin(this)},t.plugin(e,"Tabs")}(jQuery,window.Foundation);